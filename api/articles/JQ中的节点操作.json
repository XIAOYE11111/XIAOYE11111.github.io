{"title":"JQ中的节点操作","slug":"JQ中的节点操作","date":"2018-11-08T02:54:42.663Z","updated":"2018-11-08T05:49:13.754Z","comments":true,"path":"api/articles/JQ中的节点操作.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<blockquote><p>为了能全面的理解JQ中的DOM操作，我们首先需要构建一个Html网页，因为每一张网页都能用DOM表示出来，而每一份DOM都可以看作一个DOM树，构建的网页如图<br>HTML代码如下</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">mata</span> <span class=\"attr\">http-eqiv</span>=<span class=\"string\">\"content-type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html\"</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf8\"</span>/&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>dom<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">title</span>=<span class=\"string\">\"选择你喜欢的水果\"</span>&gt;</span>你喜欢的水果是？<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">title</span>=<span class=\"string\">\"苹果\"</span>&gt;</span> 苹果<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">title</span>=<span class=\"string\">\"橘子\"</span>&gt;</span> 橘子<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">title</span>=<span class=\"string\">\"菠萝\"</span>&gt;</span> 菠萝<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote><p>上图网页结构的DOM树其实也就是<br>html-&gt;head&amp;&amp;body<br>-&gt;head-&gt;meta&amp;&amp;title<br>-&gt;body-&gt;p&amp;&amp;ul<br>-&gt;ul-&gt;li&amp;&amp;li&amp;&amp;li<br>接下来各种DOM操作都将围绕这dom树展开</p>\n</blockquote>\n<blockquote><p>A.查找节点<br>1.查找元素节点</p>\n</blockquote>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"variable\">$li</span> =$(<span class=\"string\">\"ul li:eq(1)\"</span>);\t\t\t<span class=\"comment\">//获取&lt;ul&gt;里第二个&lt;li&gt;节点</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> li_text=<span class=\"variable\">$li</span>.<span class=\"keyword\">test</span>();\t\t\t\t<span class=\"comment\">//获取第二个&lt;li&gt;节点的文本内容</span></span><br><span class=\"line\">\talert(li_text);\t\t\t\t\t<span class=\"comment\">//打印内容</span></span><br></pre></td></tr></table></figure>\n<blockquote><p>2.查找属性节点<br>利用JQ选择器查找到需要的元素之后，就可以使用attr（）方法来获取它的各种属性的值了</p>\n</blockquote>\n<figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">var</span> $para =$(<span class=\"string\">\"p\"</span>);\t\t\t<span class=\"comment\">//获取&lt;P&gt;节点</span></span><br><span class=\"line\"><span class=\"built_in\">var</span> p_txt =$para.arrt(<span class=\"string\">\"title\"</span>);\t\t\t<span class=\"comment\">//获取&lt;P&gt;节点属性title</span></span><br><span class=\"line\">\talert(p_txt);\t\t\t\t\t<span class=\"comment\">//打印</span></span><br></pre></td></tr></table></figure>\n<blockquote><p>删除节点<br>remove()方法作用是删除DOM种所有匹配的元素，传入的参数用于根据JQuery表达式来筛选的元素</p>\n</blockquote>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"ul li:eq(1)\"</span>).<span class=\"built_in\">remove</span>();  //获取&lt;ul&gt;里第二个&lt;<span class=\"built_in\">li</span>&gt;节点后 把它从网页里面删除</span><br><span class=\"line\">\t<span class=\"built_in\">var</span> <span class=\"built_in\">li</span> =$(<span class=\"string\">\"ul li:eq(1)\"</span>).<span class=\"built_in\">remove</span>();</span><br><span class=\"line\">\t$<span class=\"built_in\">li</span>.appendTo(<span class=\"string\">\"ul\"</span>); \t\t//把刚刚删除的节点又重新添加到&lt;ul&gt;元素里面</span><br></pre></td></tr></table></figure>\n<blockquote><p>当某个节点用remov    e()方法删除后，该节点所包含的所有后代节点将同时被删除，<br>方法的返回值是一个指向已被删除的节点的引用，因此可以在以后再使用这些元素<br>示例代码如下</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> li =$(<span class=\"string\">\"ul li:eq(1)\"</span>).remove();</span><br><span class=\"line\">$li.appendTo(<span class=\"string\">\"ul\"</span>); \t\t<span class=\"comment\">//把刚刚删除的节点又重新添加到&lt;ul&gt;元素里面</span></span><br><span class=\"line\"><span class=\"comment\">//也可以简化成</span></span><br><span class=\"line\">\t$(<span class=\"string\">\"ul li:eq(1)\"</span>).appendTo(<span class=\"string\">\"ul\"</span>);</span><br><span class=\"line\">\t<span class=\"comment\">//appendTo()方法也可以用来移动元素</span></span><br><span class=\"line\">\t<span class=\"comment\">//移动元素元素首先从文档上删除此元素，然后将该元素插入到得到的文档中的指定节点</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote><p>另外remove()方法也可以通过传递参数来选择性的删除元素，jquery代码如下</p>\n</blockquote>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"ul li\"</span>).<span class=\"built_in\">remove</span>(<span class=\"string\">\"li[title!=菠萝]\"</span>);\t\t//将&lt;<span class=\"built_in\">li</span>&gt;元素中属性<span class=\"built_in\">title</span>不等于菠萝的<span class=\"built_in\">li</span>&gt;元素删除</span><br></pre></td></tr></table></figure>\n<blockquote><p>2.empty()方法<br>严格来说empty()方法并不是删除节点 ，而是清空节点，它能清空元素中的所有后代节点<br>代码如下</p>\n</blockquote>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$(</span><span class=\"string\">\"ul li:eq(1)\"</span>).empty();\t\t\t\t<span class=\"regexp\">//</span>获取&lt;ul&gt;里第二个&lt;li&gt;节点后，清空此元素里的内容 元素属性还在</span><br></pre></td></tr></table></figure>\n<blockquote><p>复制节点<br>可以使用clone()方法 如果clone方法中传递了true作为参数的话 ，代表复制元素的同时复制元素中所绑定的事件</p>\n</blockquote>\n<blockquote><p>替换节点<br>replaceWith()和replaceAll()<br>replaceWith()的作用是将所要匹配的元素都替换成指定的HTML元素或者DOM元素<br>同样也可以用replaceAll()来实现，只是操作颠倒了而已<br>代码如下</p>\n</blockquote>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$(</span><span class=\"string\">\"p\"</span>).replaceWith(<span class=\"string\">\"&lt;strong&gt;你最不喜欢的水果是？&lt;/strong&gt;\"</span>);\t\t<span class=\"regexp\">//</span>用replaceWith()实现</span><br><span class=\"line\"><span class=\"variable\">$(</span><span class=\"string\">\"&lt;strong&gt;你最不喜欢的水果是？&lt;/strong&gt;\"</span>).replaceAll(<span class=\"string\">\"p\"</span>);\t\t<span class=\"regexp\">//</span>用replaceAll()实现</span><br></pre></td></tr></table></figure>\n<blockquote><p>包裹节点<br>可以用wrap()方法和wrapAll()方法 以及wrapInner()方法<br>区别是wrap()方法是把所匹配到的元素单独进行包裹也就是有几个就包裹几个<br>而wrapAll()方法是把所选到的元素全部一起包裹起来<br>wrapInner()方法则是把所选到的元素内容用其他结构化的元素标记给包裹起来<br>实现代码如下</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(\"strong\").wrap(\"<span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>\");\t\t//用<span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>标签把<span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>元素包裹起来</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(\"strong\").wrapAll(\"<span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>\");\t\t//用<span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>标签把<span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>元素包裹起来</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(\"strong\").wrapInner(\"<span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>\");\t\t//用<span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>标签把<span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>元素的内容包裹起来</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[{"name":"JavaScript","slug":"JavaScript","count":3,"path":"api/categories/JavaScript.json"},{"name":"JQuery","slug":"JavaScript/JQuery","count":3,"path":"api/categories/JavaScript/JQuery.json"}],"tags":[{"name":"笔记","slug":"笔记","count":5,"path":"api/tags/笔记.json"}]}